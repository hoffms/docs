"use strict";(self.webpackChunk_uniswap_docs=self.webpackChunk_uniswap_docs||[]).push([[58831],{44397:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=r(83117),n=(r(67294),r(3905));const i={id:"overview",title:"Overview",sidebar_position:1},s="UniswapX",o={unversionedId:"contracts/uniswapx/overview",id:"contracts/uniswapx/overview",title:"Overview",description:"UniswapX is a new permissionless, open source (GPL), auction-based routing protocol for trading across AMMs and other liquidity sources.",source:"@site/docs/contracts/uniswapx/01-overview.md",sourceDirName:"contracts/uniswapx",slug:"/contracts/uniswapx/overview",permalink:"/docs/contracts/uniswapx/overview",editUrl:"https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/uniswapx/01-overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"overview",title:"Overview",sidebar_position:1},sidebar:"contractsSidebar",previous:{title:"Error Codes",permalink:"/docs/contracts/v3/reference/error-codes"},next:{title:"UniswapX V2",permalink:"/docs/contracts/uniswapx/v1vsv2"}},l={},p=[{value:"Fillers on UniswapX",id:"fillers-on-uniswapx",level:2},{value:"Parametizing UniswapX Orders on Mainnet",id:"parametizing-uniswapx-orders-on-mainnet",level:2},{value:"Reactors",id:"reactors",level:3},{value:"Fill Contracts",id:"fill-contracts",level:3},{value:"Direct Fill",id:"direct-fill",level:3}],c={toc:p};function u(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"uniswapx"},"UniswapX"),(0,n.kt)("p",null,"UniswapX is a new permissionless, open source (GPL), auction-based routing protocol for trading across AMMs and other liquidity sources."),(0,n.kt)("p",null,"UniswapX improves swapping in several ways:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Better prices by aggregating liquidity sources"),(0,n.kt)("li",{parentName:"ul"},"Gas-free swapping"),(0,n.kt)("li",{parentName:"ul"},"Protection against MEV (Maximal Extractable Value)"),(0,n.kt)("li",{parentName:"ul"},"No cost for failed transactions"),(0,n.kt)("li",{parentName:"ul"},"And in the coming months, UniswapX will expand to gas-free cross-chain swaps.")),(0,n.kt)("p",null,"Swappers generate signed orders which specify the intents of their swap, and fillers compete using arbitrary filling strategies to satisfy these orders."),(0,n.kt)("h1",{id:"trading-on-uniswapx"},"Trading on UniswapX"),(0,n.kt)("p",null,"To trade using UniswapX, swappers create a new type of order called an Exclusive Dutch Order which specifies the maximum and minimum outputs they are willing to receive in a trade over a certain time period."),(0,n.kt)("p",null,"They then sign a message that uses Permit2 to allow the transfer of tokens to complete the trade as long as the the number of tokens sent and received matched what is specified in the decay curve. These Signed Order messages are broadcast publicly and available to be executed by anyone who wants to be a \u201cfiller\u201d."),(0,n.kt)("h2",{id:"fillers-on-uniswapx"},"Fillers on UniswapX"),(0,n.kt)("p",null,"UniswapX introduces a new participant in the Uniswap ecosystem, the ",(0,n.kt)("em",{parentName:"p"},"Filler"),". These agents pickup signed orders from swappers and compete to execute them using any source of liquidity they have access to."),(0,n.kt)("p",null,"Anyone can fill orders on UniswapX, get started by reading our\xa0",(0,n.kt)("a",{parentName:"p",href:"/contracts/uniswapx/guides/mainnet/createfiller"},"Filler Integration Guide"),"."),(0,n.kt)("h2",{id:"parametizing-uniswapx-orders-on-mainnet"},"Parametizing UniswapX Orders on Mainnet"),(0,n.kt)("p",null,"The UniswapX protocol on Mainnet does not explicitly parameterize the pricing of orders like the Exclusive Dutch Order, rather order parameterization is left to be configured by the order constructor. "),(0,n.kt)("p",null,"In the current Uniswap Labs interface implementation of UniswapX, some fillers may choose to help parameterize orders on Mainnet by participating as quoters. These fillers can ",(0,n.kt)("em",{parentName:"p"},"only")," win a quote if they guarantee improved swapper execution over Uniswap v3 or v2 liquidity pools. Fillers who win a quote will receive execution priority for a limited period of time to fill orders they submitted wining quotes for. "),(0,n.kt)("p",null,"To ensure a smooth swapping experience for traders, the set of Quoters will be vetted by Uniswap Labs following UniswapX\u2019s launch, with plans to make the quoting system fully permissionless in the near future."),(0,n.kt)("p",null,"If you are interested in participating as a Quoter, please reach out ",(0,n.kt)("a",{parentName:"p",href:"mailto:quoters@uniswap.org"},"here"),"."),(0,n.kt)("h1",{id:"uniswapx-protocol-architecture"},"UniswapX Protocol Architecture"),(0,n.kt)("img",{src:r(48048).Z,alt:"UniswapX",width:"100%%"}),(0,n.kt)("h3",{id:"reactors"},"Reactors"),(0,n.kt)("p",null,"Order Reactors ",(0,n.kt)("em",{parentName:"p"},"settle")," UniswapX orders. They are responsible for validating orders of a specific type, resolving them into inputs and outputs, and executing them against the filler's strategy, and verifying that the order was successfully fulfilled."),(0,n.kt)("p",null,"Reactors process orders using the following steps:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Validate the order"),(0,n.kt)("li",{parentName:"ul"},"Resolve the order into inputs and outputs"),(0,n.kt)("li",{parentName:"ul"},"Pull input tokens from the swapper to the fillContract using permit2 ",(0,n.kt)("inlineCode",{parentName:"li"},"permitWitnessTransferFrom")," with the order as witness"),(0,n.kt)("li",{parentName:"ul"},"Call ",(0,n.kt)("inlineCode",{parentName:"li"},"reactorCallback")," on the fillContract"),(0,n.kt)("li",{parentName:"ul"},"Verify that the output tokens were received by the output recipients")),(0,n.kt)("p",null,"Reactors implement the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/Uniswap/UniswapX/blob/main/src/interfaces/IReactor.sol"},"IReactor")," interface which abstracts the specifics of the order specification. This allows for different reactor implementations with different order formats to be used with the same interface, allowing for shared infrastructure and easy extension by fillers."),(0,n.kt)("p",null,"Current reactor implementations:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/UniswapX/blob/main/src/reactors/V2DutchOrderReactor.sol"},"V2DutchOrderReactor"),": The latest version of the Dutch Order Reactor, that settle v2 linear decay dutch orders. "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/UniswapX/blob/main/src/reactors/LimitOrderReactor.sol"},"LimitOrderReactor"),": A reactor that settles simple static limit orders"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/UniswapX/blob/main/src/reactors/DutchOrderReactor.sol"},"DutchOrderReactor"),": A reactor that settles linear-decay dutch orders"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/UniswapX/blob/main/src/reactors/ExclusiveDutchOrderReactor.sol"},"ExclusiveDutchOrderReactor"),": A reactor that settles linear-decay dutch orders with a period of exclusivity before decay begins"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/UniswapX/blob/main/src/reactors/PriorityOrderReactor.sol"},"PriorityOrderReactor.sol"),": A reactor that settles orders which implement priority taxes")),(0,n.kt)("h3",{id:"fill-contracts"},"Fill Contracts"),(0,n.kt)("p",null,"Order fillContracts ",(0,n.kt)("em",{parentName:"p"},"fill")," UniswapX orders. They specify the filler's strategy for fulfilling orders and are called by the reactor with ",(0,n.kt)("inlineCode",{parentName:"p"},"reactorCallback"),"."),(0,n.kt)("p",null,"Some sample fillContract implementations are provided in this repository:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Uniswap/UniswapX/blob/main/src/sample-executors/SwapRouter02Executor.sol"},"SwapRouter02Executor"),": A fillContract that uses UniswapV2 and UniswapV3 via the SwapRouter02 router")),(0,n.kt)("h3",{id:"direct-fill"},"Direct Fill"),(0,n.kt)("p",null,"If a filler wants to fill orders using funds on-hand rather than a fillContract, they can do so gas efficiently using the ",(0,n.kt)("inlineCode",{parentName:"p"},"directFill")," macro by specifying ",(0,n.kt)("inlineCode",{parentName:"p"},"address(1)")," as the fillContract. This will pull tokens from the filler using ",(0,n.kt)("inlineCode",{parentName:"p"},"msg.sender")," to satisfy the order outputs."),(0,n.kt)("h1",{id:"whitepaper"},"Whitepaper"),(0,n.kt)("p",null,"More details on the UniswapX protocol are available in the ",(0,n.kt)("a",{parentName:"p",href:"https://uniswap.org/whitepaper-uniswapx.pdf"},"UniswapX Whitepaper"),". "),(0,n.kt)("h1",{id:"deployment-addresses"},"Deployment Addresses"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Contract"),(0,n.kt)("th",{parentName:"tr",align:null},"Address"),(0,n.kt)("th",{parentName:"tr",align:null},"Source"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"V2 Dutch Order Reactor"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://etherscan.io/address/0x00000011f84b9aa48e5f8aa8b9897600006289be"},"0x00000011f84b9aa48e5f8aa8b9897600006289be")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/Uniswap/UniswapX/blob/main/src/reactors/V2DutchOrderReactor.sol"},"V2DutchOrderReactor"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"V1 Exclusive Dutch Order Reactor"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://etherscan.io/address/0x6000da47483062A0D734Ba3dc7576Ce6A0B645C4"},"0x6000da47483062A0D734Ba3dc7576Ce6A0B645C4")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/Uniswap/UniswapX/blob/v1.0.0/src/reactors/ExclusiveDutchOrderReactor.sol"},"ExclusiveDutchOrderReactor"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"OrderQuoter"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://etherscan.io/address/0x54539967a06Fc0E3C3ED0ee320Eb67362D13C5fF"},"0x54539967a06Fc0E3C3ED0ee320Eb67362D13C5fF")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/Uniswap/UniswapX/blob/v1.0.0/src/OrderQuoter.sol"},"OrderQuoter"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Permit2"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://etherscan.io/address/0x000000000022D473030F116dDEE9F6B43aC78BA3"},"0x000000000022D473030F116dDEE9F6B43aC78BA3")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/Uniswap/permit2"},"Permit2"))))))}u.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),p=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=p(r),h=n,m=d["".concat(l,".").concat(h)]||d[h]||u[h]||i;return r?a.createElement(m,s(s({ref:t},c),{},{components:r})):a.createElement(m,s({ref:t},c))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,s=new Array(i);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:n,s[1]=o;for(var p=2;p<i;p++)s[p]=r[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},48048:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/UniswapX-60eee10e73f923436d8858b6fdded078.png"}}]);