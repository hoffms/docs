"use strict";(self.webpackChunk_uniswap_docs=self.webpackChunk_uniswap_docs||[]).push([[81976],{91526:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var r=n(83117),i=(n(67294),n(3905));const o={},s="PositionConfigId",a={unversionedId:"contracts/v4/reference/periphery/libraries/PositionConfigId",id:"contracts/v4/reference/periphery/libraries/PositionConfigId",title:"PositionConfigId",description:"Git Source - Generated with forge doc",source:"@site/docs/contracts/v4/reference/periphery/libraries/PositionConfigId.md",sourceDirName:"contracts/v4/reference/periphery/libraries",slug:"/contracts/v4/reference/periphery/libraries/PositionConfigId",permalink:"/docs/contracts/v4/reference/periphery/libraries/PositionConfigId",editUrl:"https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/v4/reference/periphery/libraries/PositionConfigId.md",tags:[],version:"current",frontMatter:{},sidebar:"contractsSidebar",previous:{title:"PositionConfig",permalink:"/docs/contracts/v4/reference/periphery/libraries/PositionConfig"},next:{title:"PositionInfo",permalink:"/docs/contracts/v4/reference/periphery/libraries/PositionInfoLibrary"}},c={},l=[{value:"State Variables",id:"state-variables",level:2},{value:"MASK_UPPER_BIT",id:"mask_upper_bit",level:3},{value:"DIRTY_UPPER_BIT",id:"dirty_upper_bit",level:3},{value:"Functions",id:"functions",level:2},{value:"getConfigId",id:"getconfigid",level:3},{value:"setConfigId",id:"setconfigid",level:3},{value:"setSubscribe",id:"setsubscribe",level:3},{value:"setUnsubscribe",id:"setunsubscribe",level:3},{value:"hasSubscriber",id:"hassubscriber",level:3}],p={toc:l};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"positionconfigid"},"PositionConfigId"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/uniswap/v4-periphery/blob/ea2bf2e1ba6863bb809fc2ff791744f308c4a26d/src/libraries/PositionConfigId.sol"},"Git Source")," - Generated with ",(0,i.kt)("a",{parentName:"p",href:"https://book.getfoundry.sh/reference/forge/forge-doc"},"forge doc")),(0,i.kt)("p",null,"A configId is set per tokenId\nThe lower 255 bits are used to store the truncated hash of the corresponding PositionConfig\nThe upper bit is used to signal if the tokenId has a subscriber"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"struct PositionConfigId {\n    bytes32 id;\n}\n")),(0,i.kt)("h1",{id:"positionconfigidlibrary"},"PositionConfigIdLibrary"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/uniswap/v4-periphery/blob/ea2bf2e1ba6863bb809fc2ff791744f308c4a26d/src/libraries/PositionConfigId.sol"},"Git Source")),(0,i.kt)("h2",{id:"state-variables"},"State Variables"),(0,i.kt)("h3",{id:"mask_upper_bit"},"MASK_UPPER_BIT"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"bytes32 constant MASK_UPPER_BIT = 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF;\n")),(0,i.kt)("h3",{id:"dirty_upper_bit"},"DIRTY_UPPER_BIT"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"bytes32 constant DIRTY_UPPER_BIT = 0x8000000000000000000000000000000000000000000000000000000000000000;\n")),(0,i.kt)("h2",{id:"functions"},"Functions"),(0,i.kt)("h3",{id:"getconfigid"},"getConfigId"),(0,i.kt)("p",null,"returns the truncated hash of the PositionConfig for a given tokenId"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function getConfigId(PositionConfigId storage _configId) internal view returns (bytes32 configId);\n")),(0,i.kt)("h3",{id:"setconfigid"},"setConfigId"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"We only set the config on mint, guaranteeing that the most significant bit is unset, so we can just assign the entire 32 bytes to the id.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function setConfigId(PositionConfigId storage _configId, bytes32 configId) internal;\n")),(0,i.kt)("h3",{id:"setsubscribe"},"setSubscribe"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function setSubscribe(PositionConfigId storage configId) internal;\n")),(0,i.kt)("h3",{id:"setunsubscribe"},"setUnsubscribe"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function setUnsubscribe(PositionConfigId storage configId) internal;\n")),(0,i.kt)("h3",{id:"hassubscriber"},"hasSubscriber"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function hasSubscriber(PositionConfigId storage configId) internal view returns (bool subscribed);\n")))}u.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=l(n),f=i,b=d["".concat(c,".").concat(f)]||d[f]||u[f]||o;return n?r.createElement(b,s(s({ref:t},p),{},{components:n})):r.createElement(b,s({ref:t},p))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,s=new Array(o);s[0]=d;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:i,s[1]=a;for(var l=2;l<o;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);