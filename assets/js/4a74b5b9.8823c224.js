"use strict";(self.webpackChunk_uniswap_docs=self.webpackChunk_uniswap_docs||[]).push([[7917],{3607:(e,a,n)=>{n.d(a,{Z:()=>s});var t=n(7294),r=n(6010);const o={note:t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})),tip:t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},t.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})),danger:t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},t.createElement("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})),info:t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})),caution:t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},t.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},i={note:"secondary",tip:"success",danger:"danger",info:"info",caution:"warning"};function s(e){let{children:a,type:n,title:s=n,icon:l=o[n]}=e;return t.createElement("div",{className:(0,r.Z)("admonition",`admonition-${n}`,"alert",`alert--${i[n]}`)},t.createElement("div",{className:"admonition-heading"},t.createElement("h5",null,t.createElement("span",{className:"admonition-icon"},l),s)),t.createElement("div",{className:"admonition-content"},a))}},1871:(e,a,n)=>{n.d(a,{Z:()=>r});var t=n(7294);function r(e){let{children:a,hidden:n,className:r}=e;return t.createElement("div",{role:"tabpanel",hidden:n,className:r},a)}},5236:(e,a,n)=>{n.d(a,{Z:()=>p});var t=n(3117),r=n(7294),o=n(5730),i=n(8656),s=n(6010);const l="tabItem_LplD";function c(e){var a,n;const{lazy:o,block:c,defaultValue:p,values:d,groupId:m,className:u}=e,g=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),k=d??g.map((e=>{let{props:{value:a,label:n,attributes:t}}=e;return{value:a,label:n,attributes:t}})),h=(0,i.lx)(k,((e,a)=>e.value===a.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const N=null===p?p:p??(null==(a=g.find((e=>e.props.default)))?void 0:a.props.value)??(null==(n=g[0])?void 0:n.props.value);if(null!==N&&!k.some((e=>e.value===N)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${N}" but none of its children has the corresponding value. Available values are: ${k.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:b,setTabGroupChoices:v}=(0,i.UB)(),[f,y]=(0,r.useState)(N),T=[],{blockElementScrollPositionUntilNextRender:x}=(0,i.o5)();if(null!=m){const e=b[m];null!=e&&e!==f&&k.some((a=>a.value===e))&&y(e)}const E=e=>{const a=e.currentTarget,n=T.indexOf(a),t=k[n].value;t!==f&&(x(a),y(t),null!=m&&v(m,t))},C=e=>{var a;let n=null;switch(e.key){case"ArrowRight":{const a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break}case"ArrowLeft":{const a=T.indexOf(e.currentTarget)-1;n=T[a]||T[T.length-1];break}}null==(a=n)||a.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":c},u)},k.map((e=>{let{value:a,label:n,attributes:o}=e;return r.createElement("li",(0,t.Z)({role:"tab",tabIndex:f===a?0:-1,"aria-selected":f===a,key:a,ref:e=>T.push(e),onKeyDown:C,onFocus:E,onClick:E},o,{className:(0,s.Z)("tabs__item",l,null==o?void 0:o.className,{"tabs__item--active":f===a})}),n??a)}))),o?(0,r.cloneElement)(g.filter((e=>e.props.value===f))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},g.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==f})))))}function p(e){const a=(0,o.Z)();return r.createElement(c,(0,t.Z)({key:String(a)},e))}},541:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>c,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var t=n(3117),r=(n(7294),n(3905)),o=n(5236),i=n(1871),s=(n(1841),n(3607));const l={description:"Gu\xeda completa paso a paso para construir mini apps din\xe1micas usando Next.js y el Sherry Links SDK",sidebar_position:1,tags:["nextjs","sdk","mini-apps","blockchain","tutorial"]},c="Gu\xeda - MiniApp con NextJS",p={unversionedId:"sdk/trigger-sdk/guides/guide-es",id:"sdk/trigger-sdk/guides/guide-es",title:"Gu\xeda - MiniApp con NextJS",description:"Gu\xeda completa paso a paso para construir mini apps din\xe1micas usando Next.js y el Sherry Links SDK",source:"@site/docs/sdk/trigger-sdk/guides/guide-es.mdx",sourceDirName:"sdk/trigger-sdk/guides",slug:"/sdk/trigger-sdk/guides/guide-es",permalink:"/docs/sdk/trigger-sdk/guides/guide-es",editUrl:"https://github.com/hoffms/docs/tree/main/docs/sdk/trigger-sdk/guides/guide-es.mdx",tags:[{label:"nextjs",permalink:"/docs/tags/nextjs"},{label:"sdk",permalink:"/docs/tags/sdk"},{label:"mini-apps",permalink:"/docs/tags/mini-apps"},{label:"blockchain",permalink:"/docs/tags/blockchain"},{label:"tutorial",permalink:"/docs/tags/tutorial"}],version:"current",sidebarPosition:1,frontMatter:{description:"Gu\xeda completa paso a paso para construir mini apps din\xe1micas usando Next.js y el Sherry Links SDK",sidebar_position:1,tags:["nextjs","sdk","mini-apps","blockchain","tutorial"]},sidebar:"sdkSidebar",previous:{title:"Guide - MiniApp with NextJS",permalink:"/docs/sdk/trigger-sdk/guides/guide-en"},next:{title:"Technical Reference",permalink:"/docs/sdk/trigger-sdk/reference/overview"}},d={},m=[{value:"Creando Mini Apps con Next.js y Sherry SDK",id:"creando-mini-apps-con-nextjs-y-sherry-sdk",level:2},{value:"\ud83d\udccb Tabla de Contenidos",id:"-tabla-de-contenidos",level:2},{value:"\ud83d\udd04 C\xf3mo Funciona Sherry - Entendiendo el Flujo",id:"-c\xf3mo-funciona-sherry---entendiendo-el-flujo",level:2},{value:"Flujo Paso a Paso",id:"flujo-paso-a-paso",level:3},{value:"\ud83d\udee0\ufe0f Requisitos Previos",id:"\ufe0f-requisitos-previos",level:2},{value:"\ud83c\udfd7\ufe0f Configuraci\xf3n Inicial",id:"\ufe0f-configuraci\xf3n-inicial",level:2},{value:"1. Crear Proyecto Next.js",id:"1-crear-proyecto-nextjs",level:3},{value:"2. Instalar Dependencias",id:"2-instalar-dependencias",level:3},{value:"3. Configurar Next.js (Opcional)",id:"3-configurar-nextjs-opcional",level:3},{value:"\ud83c\udfaf Creando el Endpoint GET - Metadata",id:"-creando-el-endpoint-get---metadata",level:2},{value:"1. Crear el Archivo de Ruta",id:"1-crear-el-archivo-de-ruta",level:3},{value:"2. Configurar la Estructura B\xe1sica del Handler GET",id:"2-configurar-la-estructura-b\xe1sica-del-handler-get",level:3},{value:"3. Definir Informaci\xf3n B\xe1sica de la App",id:"3-definir-informaci\xf3n-b\xe1sica-de-la-app",level:3},{value:"4. Agregar Array de Acciones",id:"4-agregar-array-de-acciones",level:3},{value:"5. Configurar Par\xe1metros de Entrada del Usuario",id:"5-configurar-par\xe1metros-de-entrada-del-usuario",level:3},{value:"6. Validar y Retornar la Metadata",id:"6-validar-y-retornar-la-metadata",level:3},{value:"\ud83d\udcda Ejemplo 1: Transferencia Simple (Solo Aprendizaje)",id:"-ejemplo-1-transferencia-simple-solo-aprendizaje",level:2},{value:"Entendiendo el Flujo de Petici\xf3n POST",id:"entendiendo-el-flujo-de-petici\xf3n-post",level:3},{value:"1. Configurar la Estructura del Handler POST",id:"1-configurar-la-estructura-del-handler-post",level:3},{value:"2. Crear el Objeto de Transacci\xf3n",id:"2-crear-el-objeto-de-transacci\xf3n",level:3},{value:"3. Ejemplo Completo de Transferencia Simple",id:"3-ejemplo-completo-de-transferencia-simple",level:3},{value:"\ud83c\udfaf Ejemplo 2: Interacci\xf3n con Contratos Inteligentes (Listo para Minithon)",id:"-ejemplo-2-interacci\xf3n-con-contratos-inteligentes-listo-para-minithon",level:2},{value:"1. Entendiendo el Contrato Inteligente",id:"1-entendiendo-el-contrato-inteligente",level:3},{value:"2. Actualizar las Importaciones de tu Archivo de Ruta",id:"2-actualizar-las-importaciones-de-tu-archivo-de-ruta",level:3},{value:"3. Construir el Handler POST del Contrato Inteligente",id:"3-construir-el-handler-post-del-contrato-inteligente",level:3},{value:"4. Handler Completo de Contrato Inteligente",id:"4-handler-completo-de-contrato-inteligente",level:3},{value:"5. Implementar el Algoritmo Personalizado",id:"5-implementar-el-algoritmo-personalizado",level:3},{value:"\ud83c\udf10 Manejo de CORS",id:"-manejo-de-cors",level:2},{value:"\ud83e\uddea Probando tu Mini App",id:"-probando-tu-mini-app",level:2},{value:"Opci\xf3n 1: App Sherry Social",id:"opci\xf3n-1-app-sherry-social",level:3},{value:"Opci\xf3n 2: Debugger de Sherry (Recomendado para Desarrollo)",id:"opci\xf3n-2-debugger-de-sherry-recomendado-para-desarrollo",level:3},{value:"Proceso de Pruebas Paso a Paso",id:"proceso-de-pruebas-paso-a-paso",level:3},{value:"\ud83c\udfc6 Gu\xedas del Minithon",id:"-gu\xedas-del-minithon",level:2},{value:"Qu\xe9 Hace una Presentaci\xf3n Ganadora del Minithon",id:"qu\xe9-hace-una-presentaci\xf3n-ganadora-del-minithon",level:3},{value:"Qu\xe9 No Ser\xe1 Aceptado en el Minithon",id:"qu\xe9-no-ser\xe1-aceptado-en-el-minithon",level:3},{value:"\ud83d\udd27 Resoluci\xf3n de Problemas",id:"-resoluci\xf3n-de-problemas",level:2},{value:"Error: &quot;Fall\xf3 la validaci\xf3n de metadata&quot;",id:"error-fall\xf3-la-validaci\xf3n-de-metadata",level:3},{value:"Error: &quot;La pol\xedtica CORS bloquea la petici\xf3n&quot;",id:"error-la-pol\xedtica-cors-bloquea-la-petici\xf3n",level:3},{value:"Error: &quot;Par\xe1metro requerido&quot;",id:"error-par\xe1metro-requerido",level:3},{value:"Error: &quot;Fall\xf3 la serializaci\xf3n de transacci\xf3n&quot;",id:"error-fall\xf3-la-serializaci\xf3n-de-transacci\xf3n",level:3},{value:"Error: &quot;Funci\xf3n ABI no encontrada&quot;",id:"error-funci\xf3n-abi-no-encontrada",level:3},{value:"Error: &quot;Direcci\xf3n de contrato inv\xe1lida&quot;",id:"error-direcci\xf3n-de-contrato-inv\xe1lida",level:3},{value:"\ud83d\ude80 Ejemplo de C\xf3digo Completo",id:"-ejemplo-de-c\xf3digo-completo",level:2},{value:"\ud83d\udcda Repositorio de Ejemplos",id:"-repositorio-de-ejemplos",level:2},{value:"\ud83c\udfaf Pr\xf3ximos Pasos",id:"-pr\xf3ximos-pasos",level:2}],u={toc:m};function g(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"gu\xeda---miniapp-con-nextjs"},"Gu\xeda - MiniApp con NextJS"),(0,r.kt)("h2",{id:"creando-mini-apps-con-nextjs-y-sherry-sdk"},"Creando Mini Apps con Next.js y Sherry SDK"),(0,r.kt)("p",null,"Esta gu\xeda completa te ense\xf1ar\xe1 paso a paso c\xf3mo crear mini apps potentes usando ",(0,r.kt)("strong",{parentName:"p"},"Next.js")," y el ",(0,r.kt)("strong",{parentName:"p"},"Sherry Links SDK"),". Las mini apps son aplicaciones din\xe1micas que pueden integrarse en diferentes plataformas y permiten a los usuarios interactuar con contratos inteligentes de manera fluida."),(0,r.kt)(s.Z,{type:"info",title:"Informaci\xf3n del Minithon",mdxType:"Admonition"},"Este tutorial contiene notas espec\xedficas para **participantes del hackathon Minithon**. Si el Minithon ya ha concluido, puedes ignorar estas referencias - todo el contenido t\xe9cnico y ejemplos siguen siendo completamente aplicables para aprender y probar acciones din\xe1micas en producci\xf3n."),(0,r.kt)(s.Z,{type:"warning",title:"Importante para Participantes del Minithon",mdxType:"Admonition"},"Este tutorial progresa desde un **ejemplo b\xe1sico** (transferencia simple) hasta un **ejemplo complejo** (interacci\xf3n con contratos inteligentes). Para env\xedos al minithon, necesitar\xe1s implementar la versi\xf3n compleja que interact\xfaa con contratos inteligentes, ya que las transferencias simples ya pueden manejarse con nuestro TransferAction incorporado."),(0,r.kt)("h2",{id:"-tabla-de-contenidos"},"\ud83d\udccb Tabla de Contenidos"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#c%C3%B3mo-funciona-sherry---entendiendo-el-flujo"},"C\xf3mo Funciona Sherry - Entendiendo el Flujo")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#requisitos-previos"},"Requisitos Previos")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#configuraci%C3%B3n-inicial"},"Configuraci\xf3n Inicial")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#creando-el-endpoint-get---metadata"},"Creando el Endpoint GET - Metadata")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#ejemplo-1-transferencia-simple-solo-aprendizaje"},"Ejemplo 1: Transferencia Simple (Solo Aprendizaje)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#ejemplo-2-interacci%C3%B3n-con-contratos-inteligentes-listo-para-minithon"},"Ejemplo 2: Interacci\xf3n con Contratos Inteligentes (Listo para Minithon)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#manejo-de-cors"},"Manejo de CORS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#probando-tu-mini-app"},"Probando tu Mini App")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#resoluci%C3%B3n-de-problemas"},"Resoluci\xf3n de Problemas"))),(0,r.kt)("h2",{id:"-c\xf3mo-funciona-sherry---entendiendo-el-flujo"},"\ud83d\udd04 C\xf3mo Funciona Sherry - Entendiendo el Flujo"),(0,r.kt)("p",null,"Antes de empezar a construir, es importante entender c\xf3mo Sherry Links conecta usuarios, plataformas y tu backend de mini app. El siguiente diagrama ilustra el flujo completo:"),(0,r.kt)("div",{style:{textAlign:"center",margin:"2rem 0"}},(0,r.kt)("img",{src:"/img/sherry-flow.png",alt:"Diagrama de Flujo de Sherry Links - C\xf3mo los usuarios interact\xfaan con mini apps a trav\xe9s de la plataforma",style:{maxWidth:"100%",height:"auto",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})),(0,r.kt)("h3",{id:"flujo-paso-a-paso"},"Flujo Paso a Paso"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Sherry hace petici\xf3n GET y recibe metadata")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La plataforma descubre tu mini app y solicita su configuraci\xf3n"),(0,r.kt)("li",{parentName:"ul"},"Tu backend responde con metadata que define la UI y funcionalidad"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Back-End retorna metadata")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La metadata incluye campos de formulario, botones de acci\xf3n, descripciones y endpoints"),(0,r.kt)("li",{parentName:"ul"},"Esto le dice a Sherry c\xf3mo renderizar la interfaz de tu mini app"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Sherry renderiza mini-app")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La plataforma crea un formulario amigable basado en tu metadata"),(0,r.kt)("li",{parentName:"ul"},"Los usuarios pueden ver campos de entrada, descripciones y botones de acci\xf3n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Usuario ejecuta mini-app")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"El usuario llena el formulario con sus par\xe1metros deseados"),(0,r.kt)("li",{parentName:"ul"},"El usuario hace clic en el bot\xf3n de acci\xf3n para enviar su solicitud"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Sherry hace petici\xf3n POST y recibe transacci\xf3n serializada desde Back-End")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"La plataforma env\xeda la entrada del usuario a tu backend para procesamiento"),(0,r.kt)("li",{parentName:"ul"},"Tu backend aplica l\xf3gica personalizada y retorna una transacci\xf3n blockchain lista para firmar"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Usuario confirma transacci\xf3n")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"El usuario revisa los detalles de la transacci\xf3n en su wallet"),(0,r.kt)("li",{parentName:"ul"},"El usuario firma y env\xeda la transacci\xf3n a la blockchain")))),(0,r.kt)(s.Z,{type:"tip",title:"Concepto Clave",mdxType:"Admonition"},"Tu mini app act\xfaa como una **f\xe1brica inteligente de transacciones** - toma la entrada del usuario, aplica tu l\xf3gica de negocio \xfanica, y produce transacciones blockchain listas para firmar. Esto es lo que hace poderoso a Sherry Links: combinar gran UX con funcionalidad blockchain personalizada."),(0,r.kt)("h2",{id:"\ufe0f-requisitos-previos"},"\ud83d\udee0\ufe0f Requisitos Previos"),(0,r.kt)("p",null,"Antes de comenzar, aseg\xfarate de tener lo siguiente instalado y configurado:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Node.js"),": Versi\xf3n 18.x o superior"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Gestor de Paquetes"),": npm, yarn, o pnpm"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Conocimiento del Framework"),": Conceptos b\xe1sicos de Next.js y TypeScript"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Conceptos B\xe1sicos de Blockchain"),": Entendimiento de contratos inteligentes y ABI")),(0,r.kt)("h2",{id:"\ufe0f-configuraci\xf3n-inicial"},"\ud83c\udfd7\ufe0f Configuraci\xf3n Inicial"),(0,r.kt)("h3",{id:"1-crear-proyecto-nextjs"},"1. Crear Proyecto Next.js"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"npm",label:"npm",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'npx create-next-app@latest mi-sherry-app --typescript --eslint --tailwind --src-dir --app --import-alias "@/*"\ncd mi-sherry-app\n'))),(0,r.kt)(i.Z,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'yarn create next-app mi-sherry-app --typescript --eslint --tailwind --src-dir --app --import-alias "@/*"\ncd mi-sherry-app\n'))),(0,r.kt)(i.Z,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'pnpm create next-app mi-sherry-app --typescript --eslint --tailwind --src-dir --app --import-alias "@/*"\ncd mi-sherry-app\n')))),(0,r.kt)("h3",{id:"2-instalar-dependencias"},"2. Instalar Dependencias"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"npm",label:"npm",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @sherrylinks/sdk viem wagmi\n"))),(0,r.kt)(i.Z,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @sherrylinks/sdk viem wagmi\n"))),(0,r.kt)(i.Z,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add @sherrylinks/sdk viem wagmi\n")))),(0,r.kt)("h3",{id:"3-configurar-nextjs-opcional"},"3. Configurar Next.js (Opcional)"),(0,r.kt)(s.Z,{type:"tip",title:"Optimizaci\xf3n de Build",mdxType:"Admonition"},"Para evitar errores de build con ESLint, puedes deshabilitarlo en `next.config.js`:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="next.config.js"',title:'"next.config.js"'},"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  eslint: {\n    ignoreDuringBuilds: true,\n  },\n};\n\nmodule.exports = nextConfig;\n")),(0,r.kt)("h2",{id:"-creando-el-endpoint-get---metadata"},"\ud83c\udfaf Creando el Endpoint GET - Metadata"),(0,r.kt)("p",null,"El endpoint GET es el ",(0,r.kt)("strong",{parentName:"p"},"coraz\xf3n")," de tu mini app. Aqu\xed defines toda la informaci\xf3n y estructura que las plataformas necesitan para renderizar tu aplicaci\xf3n."),(0,r.kt)(s.Z,{type:"note",title:"Entendiendo la Metadata",mdxType:"Admonition"},"La metadata le dice a las plataformas **c\xf3mo** renderizar tu mini app, **qu\xe9** inputs mostrar a los usuarios, y **d\xf3nde** enviar los datos cuando los usuarios interact\xfaan con ella."),(0,r.kt)("h3",{id:"1-crear-el-archivo-de-ruta"},"1. Crear el Archivo de Ruta"),(0,r.kt)("p",null,"Crea el archivo ",(0,r.kt)("inlineCode",{parentName:"p"},"app/api/mi-app/route.ts"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="app/api/mi-app/route.ts"',title:'"app/api/mi-app/route.ts"'},"import { NextRequest, NextResponse } from 'next/server';\nimport { createMetadata, Metadata, ValidatedMetadata } from '@sherrylinks/sdk';\n")),(0,r.kt)("h3",{id:"2-configurar-la-estructura-b\xe1sica-del-handler-get"},"2. Configurar la Estructura B\xe1sica del Handler GET"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function GET(req: NextRequest) {\n  try {\n    // Obtener informaci\xf3n de la URL del servidor\n    const host = req.headers.get('host') || 'localhost:3000';\n    const protocol = req.headers.get('x-forwarded-proto') || 'http';\n\n    // Construir la URL base\n    const serverUrl = `${protocol}://${host}`;\n\n    // Construiremos el objeto metadata paso a paso abajo\n  } catch (error) {\n    console.error('Error creando metadata:', error);\n    return NextResponse.json({ error: 'Error al crear metadata' }, { status: 500 });\n  }\n}\n")),(0,r.kt)(s.Z,{type:"info",title:"\xbfPor qu\xe9 serverUrl?",mdxType:"Admonition"},"Esto detecta autom\xe1ticamente si est\xe1s ejecutando localmente (`http://localhost:3000`) o en producci\xf3n (`https://tudominio.com`) y construye la URL base correcta para tu mini app."),(0,r.kt)("h3",{id:"3-definir-informaci\xf3n-b\xe1sica-de-la-app"},"3. Definir Informaci\xf3n B\xe1sica de la App"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function GET(req: NextRequest) {\n  try {\n    const host = req.headers.get('host') || 'localhost:3000';\n    const protocol = req.headers.get('x-forwarded-proto') || 'http';\n    const serverUrl = `${protocol}://${host}`;\n\n    const metadata: Metadata = {\n      url: 'https://sherry.social',\n      icon: 'https://avatars.githubusercontent.com/u/117962315',\n      title: 'Mensaje con Timestamp',\n      baseUrl: serverUrl,\n      description:\n        'Almacena un mensaje con un timestamp optimizado calculado por nuestro algoritmo',\n      // Las acciones se agregar\xe1n en el siguiente paso\n    };\n  } catch (error) {\n    // Manejo de errores...\n  }\n}\n")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("strong",null,"Entendiendo Cada Campo")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Campo"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Ejemplo"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"url")),(0,r.kt)("td",{parentName:"tr",align:null},"URL principal del sitio web de tu proyecto"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"https://sherry.social"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"icon")),(0,r.kt)("td",{parentName:"tr",align:null},"URL de imagen p\xfablicamente accesible (200x200px recomendado)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"https://ejemplo.com/icon.png"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"title")),(0,r.kt)("td",{parentName:"tr",align:null},"Nombre corto y descriptivo para tu mini app"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"Mensaje con Timestamp"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"baseUrl")),(0,r.kt)("td",{parentName:"tr",align:null},"URL del servidor donde tu mini app est\xe1 alojada (auto-detectada)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"https://tudominio.com"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"description")),(0,r.kt)("td",{parentName:"tr",align:null},"Explicaci\xf3n clara de qu\xe9 hace tu mini app"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"Almacenar mensajes con timestamps optimizados"')))))),(0,r.kt)("h3",{id:"4-agregar-array-de-acciones"},"4. Agregar Array de Acciones"),(0,r.kt)(s.Z,{type:"caution",title:"Las Acciones Definen la Funcionalidad",mdxType:"Admonition"},"Las acciones definen **qu\xe9 pueden hacer** los usuarios con tu mini app. Cada acci\xf3n representa un bot\xf3n con funcionalidad espec\xedfica."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const metadata: Metadata = {\n  url: 'https://sherry.social',\n  icon: 'https://avatars.githubusercontent.com/u/117962315',\n  title: 'Mensaje con Timestamp',\n  baseUrl: serverUrl,\n  description: 'Almacena un mensaje con un timestamp optimizado calculado por nuestro algoritmo',\n  actions: [\n    {\n      type: 'dynamic',\n      label: 'Almacenar Mensaje',\n      description:\n        'Almacena tu mensaje con un timestamp personalizado calculado para almacenamiento \xf3ptimo',\n      chains: { source: 'fuji' },\n      path: `/api/mi-app`,\n      // Los par\xe1metros se agregar\xe1n en el siguiente paso\n    },\n  ],\n};\n")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("strong",null,"Entendiendo las Propiedades de Acci\xf3n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"type"),": Siempre usa ",(0,r.kt)("inlineCode",{parentName:"li"},'"dynamic"')," para mini apps complejas que necesitan l\xf3gica personalizada"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"label"),": El texto que aparecer\xe1 en el bot\xf3n de acci\xf3n"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"description"),": Explicaci\xf3n de qu\xe9 hace esta acci\xf3n espec\xedfica"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"chains.source"),": La blockchain donde se ejecutar\xe1 la transacci\xf3n",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"fuji"')," = Avalanche Fuji Testnet"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},'"avalanche"')," = Avalanche Mainnet"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"path"),": El endpoint de API que manejar\xe1 la petici\xf3n POST"))),(0,r.kt)("h3",{id:"5-configurar-par\xe1metros-de-entrada-del-usuario"},"5. Configurar Par\xe1metros de Entrada del Usuario"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const metadata: Metadata = {\n  url: 'https://sherry.social',\n  icon: 'https://avatars.githubusercontent.com/u/117962315',\n  title: 'Mensaje con Timestamp',\n  baseUrl: serverUrl,\n  description: 'Almacena un mensaje con un timestamp optimizado calculado por nuestro algoritmo',\n  actions: [\n    {\n      type: 'dynamic',\n      label: 'Almacenar Mensaje',\n      description:\n        'Almacena tu mensaje con un timestamp personalizado calculado para almacenamiento \xf3ptimo',\n      chains: { source: 'fuji' },\n      path: `/api/mi-app`,\n      params: [\n        {\n          name: 'mensaje',\n          label: '\xa1Tu Mensaje Hermano!',\n          type: 'text',\n          required: true,\n          description: 'Ingresa el mensaje que quieres almacenar en la blockchain',\n        },\n      ],\n    },\n  ],\n};\n")),(0,r.kt)(s.Z,{type:"info",title:"Tipos de Par\xe1metros Disponibles",mdxType:"Admonition"},'- `"text"`: Entrada de texto de una l\xednea - `"textarea"`: Entrada de texto multil\xednea - `"number"`: Entrada num\xe9rica con validaci\xf3n - `"email"`: Entrada de email con validaci\xf3n - `"url"`: Entrada de URL con validaci\xf3n'),(0,r.kt)("h3",{id:"6-validar-y-retornar-la-metadata"},"6. Validar y Retornar la Metadata"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function GET(req: NextRequest) {\n  try {\n    const host = req.headers.get('host') || 'localhost:3000';\n    const protocol = req.headers.get('x-forwarded-proto') || 'http';\n    const serverUrl = `${protocol}://${host}`;\n\n    const metadata: Metadata = {\n      url: 'https://sherry.social',\n      icon: 'https://avatars.githubusercontent.com/u/117962315',\n      title: 'Mensaje con Timestamp',\n      baseUrl: serverUrl,\n      description:\n        'Almacena un mensaje con un timestamp optimizado calculado por nuestro algoritmo',\n      actions: [\n        {\n          type: 'dynamic',\n          label: 'Almacenar Mensaje',\n          description:\n            'Almacena tu mensaje con un timestamp personalizado calculado para almacenamiento \xf3ptimo',\n          chains: { source: 'fuji' },\n          path: `/api/mi-app`,\n          params: [\n            {\n              name: 'mensaje',\n              label: '\xa1Tu Mensaje Hermano!',\n              type: 'text',\n              required: true,\n              description: 'Ingresa el mensaje que quieres almacenar en la blockchain',\n            },\n          ],\n        },\n      ],\n    };\n\n    // Validar metadata usando el SDK\n    const validated: ValidatedMetadata = createMetadata(metadata);\n\n    // Retornar con headers CORS para acceso cross-origin\n    return NextResponse.json(validated, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      },\n    });\n  } catch (error) {\n    console.error('Error creando metadata:', error);\n    return NextResponse.json({ error: 'Error al crear metadata' }, { status: 500 });\n  }\n}\n")),(0,r.kt)(s.Z,{type:"success",title:"Beneficios de la Validaci\xf3n",mdxType:"Admonition"},"La funci\xf3n `createMetadata()` valida la estructura de tu metadata y asegura que cumple con los requisitos del Sherry SDK antes de retornarla a la plataforma."),(0,r.kt)("h2",{id:"-ejemplo-1-transferencia-simple-solo-aprendizaje"},"\ud83d\udcda Ejemplo 1: Transferencia Simple (Solo Aprendizaje)"),(0,r.kt)(s.Z,{type:"danger",title:"Nota Importante",mdxType:"Admonition"},"Este ejemplo es para **aprender los conceptos b\xe1sicos solamente**. Transferencias simples como esta ya est\xe1n soportadas por nuestro TransferAction incorporado y **NO ser\xe1n aceptadas** en env\xedos al minithon. \xdasalo para entender el flujo, luego pasa al Ejemplo 2 para funcionalidad lista para minithon."),(0,r.kt)("h3",{id:"entendiendo-el-flujo-de-petici\xf3n-post"},"Entendiendo el Flujo de Petici\xf3n POST"),(0,r.kt)("p",null,"Cuando un usuario completa el formulario de tu mini app y hace clic en el bot\xf3n de acci\xf3n, la plataforma enviar\xe1 una ",(0,r.kt)("strong",{parentName:"p"},"petici\xf3n POST")," a tu endpoint con la entrada del usuario como par\xe1metros de URL."),(0,r.kt)("h3",{id:"1-configurar-la-estructura-del-handler-post"},"1. Configurar la Estructura del Handler POST"),(0,r.kt)("p",null,"Agrega estas importaciones al inicio de tu archivo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="app/api/mi-app/route.ts"',title:'"app/api/mi-app/route.ts"'},"import { NextRequest, NextResponse } from 'next/server';\nimport { avalancheFuji } from 'viem/chains';\nimport { createMetadata, Metadata, ValidatedMetadata, ExecutionResponse } from '@sherrylinks/sdk';\nimport { serialize } from 'wagmi';\n")),(0,r.kt)("p",null,"Ahora construyamos el handler POST:"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"basic",label:"Estructura B\xe1sica",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function POST(req: NextRequest) {\n  try {\n    // Paso 1: Extraer par\xe1metros de la URL\n    const { searchParams } = new URL(req.url);\n    const mensaje = searchParams.get('mensaje');\n\n    // Agregaremos validaci\xf3n y creaci\xf3n de transacci\xf3n abajo\n  } catch (error) {\n    console.error('Error en petici\xf3n POST:', error);\n    return NextResponse.json({ error: 'Error Interno del Servidor' }, { status: 500 });\n  }\n}\n"))),(0,r.kt)(i.Z,{value:"validation",label:"Con Validaci\xf3n",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function POST(req: NextRequest) {\n  try {\n    // Extraer par\xe1metros\n    const { searchParams } = new URL(req.url);\n    const mensaje = searchParams.get('mensaje');\n\n    // Validar par\xe1metros requeridos\n    if (!mensaje) {\n      return NextResponse.json(\n        { error: 'El par\xe1metro mensaje es requerido' },\n        {\n          status: 400,\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n            'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          },\n        },\n      );\n    }\n\n    // La creaci\xf3n de transacci\xf3n se agregar\xe1 despu\xe9s\n  } catch (error) {\n    // Manejo de errores...\n  }\n}\n")))),(0,r.kt)("h3",{id:"2-crear-el-objeto-de-transacci\xf3n"},"2. Crear el Objeto de Transacci\xf3n"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// Crear una transacci\xf3n de transferencia simple\nconst tx = {\n  to: '0x5ee75a1B1648C023e885E58bD3735Ae273f2cc52',\n  value: BigInt(1000000), // 1000000 wei = 0.000001 AVAX\n  chainId: avalancheFuji.id,\n};\n")),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("strong",null,"Entendiendo las Propiedades de Transacci\xf3n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"to"),": La direcci\xf3n de destino que recibir\xe1 la transferencia"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"value"),": La cantidad a transferir en wei (unidad m\xe1s peque\xf1a). Usa ",(0,r.kt)("inlineCode",{parentName:"li"},"BigInt()")," para n\xfameros grandes"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"chainId"),": El ID num\xe9rico de la blockchain (avalancheFuji.id = 43113)"))),(0,r.kt)("h3",{id:"3-ejemplo-completo-de-transferencia-simple"},"3. Ejemplo Completo de Transferencia Simple"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Handler POST Completo - Transferencia Simple"',title:'"Handler',POST:!0,Completo:!0,"-":!0,Transferencia:!0,'Simple"':!0},"export async function POST(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const mensaje = searchParams.get('mensaje');\n\n    if (!mensaje) {\n      return NextResponse.json(\n        { error: 'El par\xe1metro mensaje es requerido' },\n        {\n          status: 400,\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n            'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          },\n        },\n      );\n    }\n\n    const tx = {\n      to: '0x5ee75a1B1648C023e885E58bD3735Ae273f2cc52',\n      value: BigInt(1000000),\n      chainId: avalancheFuji.id,\n    };\n\n    // Serializar la transacci\xf3n para la blockchain\n    const serialized = serialize(tx);\n\n    // Crear el objeto de respuesta que Sherry espera\n    const resp: ExecutionResponse = {\n      serializedTransaction: serialized,\n      chainId: avalancheFuji.name, // Usar el nombre de la chain, no el ID\n    };\n\n    // Retornar la respuesta con headers CORS\n    return NextResponse.json(resp, {\n      status: 200,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n      },\n    });\n  } catch (error) {\n    console.error('Error en petici\xf3n POST:', error);\n    return NextResponse.json({ error: 'Error Interno del Servidor' }, { status: 500 });\n  }\n}\n")),(0,r.kt)(s.Z,{type:"warning",title:"Por Qu\xe9 Esto No Es Listo para Minithon",mdxType:"Admonition"},"Este ejemplo solo realiza una transferencia simple de tokens. Dado que nuestra plataforma ya proporciona **TransferAction** para esta funcionalidad exacta, los env\xedos al minithon necesitan demostrar funcionalidad m\xe1s compleja y con valor agregado."),(0,r.kt)("h2",{id:"-ejemplo-2-interacci\xf3n-con-contratos-inteligentes-listo-para-minithon"},"\ud83c\udfaf Ejemplo 2: Interacci\xf3n con Contratos Inteligentes (Listo para Minithon)"),(0,r.kt)(s.Z,{type:"success",title:"Adecuado para Minithon",mdxType:"Admonition"},"Este ejemplo demuestra **interacci\xf3n con contratos inteligentes** con l\xf3gica de negocio personalizada, que es lo que buscamos en los env\xedos al minithon."),(0,r.kt)("h3",{id:"1-entendiendo-el-contrato-inteligente"},"1. Entendiendo el Contrato Inteligente"),(0,r.kt)("p",null,"Primero, entendamos qu\xe9 hace nuestro contrato inteligente:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity",metastring:'title="Contrato TimestampedMessage"',title:'"Contrato','TimestampedMessage"':!0},'// SPDX-License-Identifier: MIT\npragma solidity ^0.8.17;\n\n/**\n * @title TimestampedMessage\n * @dev Stores messages with an optimized timestamp\n */\ncontract TimestampedMessage {\n    event MessageStored(address indexed sender, string message, uint256 timestamp, uint256 optimizedTimestamp);\n\n    struct MessageData {\n        address sender;\n        string message;\n        uint256 timestamp;\n        uint256 optimizedTimestamp;\n    }\n\n    // Array to store all messages\n    MessageData[] public messages;\n\n    // Mapping from address to their message count\n    mapping(address => uint256) public userMessageCount;\n\n    /**\n     * @dev Store a message with an optimized timestamp\n     * @param message The message to store\n     * @param optimizedTimestamp A timestamp calculated off-chain\n     */\n    function storeMessage(string memory message, uint256 optimizedTimestamp) public {\n        // Store message with the current block timestamp and the optimized timestamp\n        messages.push(MessageData({\n            sender: msg.sender,\n            message: message,\n            timestamp: block.timestamp,\n            optimizedTimestamp: optimizedTimestamp\n        }));\n\n        // Increment message count for the sender\n        userMessageCount[msg.sender]++;\n\n        // Emit event\n        emit MessageStored(msg.sender, message, block.timestamp, optimizedTimestamp);\n    }\n\n    /**\n     * @dev Get the count of all messages\n     */\n    function getMessageCount() public view returns (uint256) {\n        return messages.length;\n    }\n\n    /**\n     * @dev Get a message by index\n     */\n    function getMessage(uint256 index) public view returns (\n        address sender,\n        string memory message,\n        uint256 timestamp,\n        uint256 optimizedTimestamp\n    ) {\n        require(index < messages.length, "Index out of bounds");\n        MessageData memory data = messages[index];\n        return (data.sender, data.message, data.timestamp, data.optimizedTimestamp);\n    }\n\n    /**\n     * @dev Get all messages from a specific sender\n     */\n    function getMessagesBySender(address sender) public view returns (\n        string[] memory messageTexts,\n        uint256[] memory timestamps,\n        uint256[] memory optimizedTimestamps\n    ) {\n        uint256 count = userMessageCount[sender];\n\n        messageTexts = new string[](count);\n        timestamps = new uint256[](count);\n        optimizedTimestamps = new uint256[](count);\n\n        uint256 currentIndex = 0;\n\n        for (uint256 i = 0; i < messages.length; i++) {\n            if (messages[i].sender == sender) {\n                messageTexts[currentIndex] = messages[i].message;\n                timestamps[currentIndex] = messages[i].timestamp;\n                optimizedTimestamps[currentIndex] = messages[i].optimizedTimestamp;\n                currentIndex++;\n            }\n        }\n\n        return (messageTexts, timestamps, optimizedTimestamps);\n    }\n}\n')),(0,r.kt)(s.Z,{type:"info",title:"Por Qu\xe9 Esto Es Listo para Minithon",mdxType:"Admonition"},"- L\xf3gica de negocio personalizada (c\xe1lculo de timestamp optimizado) - Gesti\xf3n de estado de contrato inteligente - Emisi\xf3n de eventos para seguimiento - Estructuras de datos complejas - Va m\xe1s all\xe1 de transferencias simples"),(0,r.kt)("h3",{id:"2-actualizar-las-importaciones-de-tu-archivo-de-ruta"},"2. Actualizar las Importaciones de tu Archivo de Ruta"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="app/api/mi-app/route.ts"',title:'"app/api/mi-app/route.ts"'},"import { NextRequest, NextResponse } from 'next/server';\nimport { avalancheFuji } from 'viem/chains';\nimport { createMetadata, Metadata, ValidatedMetadata, ExecutionResponse } from '@sherrylinks/sdk';\nimport { serialize, TransactionSerializable, encodeFunctionData } from 'wagmi';\nimport { abi } from '@/blockchain/abi';\n\n// Direcci\xf3n del contrato en Avalanche Fuji Testnet\nconst CONTRACT_ADDRESS = '0xTuContratoInteligenteDirecci\xf3nAqu\xed';\n")),(0,r.kt)("h3",{id:"3-construir-el-handler-post-del-contrato-inteligente"},"3. Construir el Handler POST del Contrato Inteligente"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"step1",label:"Paso 1: Validaci\xf3n",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function POST(req: NextRequest) {\n  try {\n    // Extraer entrada del usuario\n    const { searchParams } = new URL(req.url);\n    const message = searchParams.get('mensaje');\n\n    // Validar par\xe1metros requeridos\n    if (!message) {\n      return NextResponse.json(\n        { error: 'Message parameter is required' },\n        {\n          status: 400,\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n            'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          },\n        },\n      );\n    }\n\n    // La l\xf3gica personalizada y creaci\xf3n de transacci\xf3n se agregar\xe1n abajo\n  } catch (error) {\n    console.error('Error en petici\xf3n POST:', error);\n    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\n  }\n}\n"))),(0,r.kt)(i.Z,{value:"step2",label:"Paso 2: L\xf3gica Personalizada",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function POST(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const message = searchParams.get('mensaje');\n\n    if (!message) {\n      // Error de validaci\xf3n...\n    }\n\n    // L\xd3GICA DE NEGOCIO PERSONALIZADA: Calcular timestamp optimizado\n    // Esto es lo que hace tu mini app \xfanica y valiosa\n    const optimizedTimestamp = calculateOptimizedTimestamp(message);\n\n    console.log(`Procesando mensaje: \"${message}\"`);\n    console.log(`Timestamp optimizado: ${optimizedTimestamp}`);\n\n    // La creaci\xf3n de transacci\xf3n se agregar\xe1 despu\xe9s\n  } catch (error) {\n    // Manejo de errores...\n  }\n}\n"))),(0,r.kt)(i.Z,{value:"step3",label:"Paso 3: Transacci\xf3n del Contrato",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function POST(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const message = searchParams.get('mensaje');\n\n    if (!message) {\n      // Validaci\xf3n...\n    }\n\n    const optimizedTimestamp = calculateOptimizedTimestamp(message);\n\n    // Codificar los datos de la funci\xf3n del contrato\n    const data = encodeFunctionData({\n      abi: abi,\n      functionName: 'storeMessage',\n      args: [message, BigInt(optimizedTimestamp)],\n    });\n\n    // Crear transacci\xf3n de interacci\xf3n con contrato inteligente\n    const tx: TransactionSerializable = {\n      to: CONTRACT_ADDRESS,\n      data: data,\n      chainId: avalancheFuji.id,\n      type: 'legacy',\n    };\n\n    // La serializaci\xf3n y respuesta se agregar\xe1n despu\xe9s\n  } catch (error) {\n    // Manejo de errores...\n  }\n}\n")))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("strong",null,"Entendiendo las Propiedades de Transacci\xf3n de Contrato Inteligente")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"to"),": La direcci\xf3n del contrato desplegado en la blockchain"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"data"),": Los datos codificados de la funci\xf3n usando ",(0,r.kt)("inlineCode",{parentName:"li"},"encodeFunctionData")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"chainId"),": El ID num\xe9rico de la blockchain (avalancheFuji.id = 43113)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"type"),": El tipo de transacci\xf3n ('legacy' para compatibilidad amplia)"))),(0,r.kt)("h3",{id:"4-handler-completo-de-contrato-inteligente"},"4. Handler Completo de Contrato Inteligente"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Handler POST Completo - Interacci\xf3n con Contrato Inteligente"',title:'"Handler',POST:!0,Completo:!0,"-":!0,"Interacci\xf3n":!0,con:!0,Contrato:!0,'Inteligente"':!0},"export async function POST(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const message = searchParams.get('mensaje');\n\n    if (!message) {\n      return NextResponse.json(\n        { error: 'Message parameter is required' },\n        {\n          status: 400,\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n            'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          },\n        },\n      );\n    }\n\n    // Calcular timestamp optimizado usando algoritmo personalizado\n    const optimizedTimestamp = calculateOptimizedTimestamp(message);\n\n    // Codificar los datos de la funci\xf3n del contrato\n    const data = encodeFunctionData({\n      abi: abi,\n      functionName: 'storeMessage',\n      args: [message, BigInt(optimizedTimestamp)],\n    });\n\n    // Crear transacci\xf3n de contrato inteligente\n    const tx: TransactionSerializable = {\n      to: CONTRACT_ADDRESS,\n      data: data,\n      chainId: avalancheFuji.id,\n      type: 'legacy',\n    };\n\n    // Serializar transacci\xf3n\n    const serialized = serialize(tx);\n\n    // Crear respuesta\n    const resp: ExecutionResponse = {\n      serializedTransaction: serialized,\n      chainId: avalancheFuji.name,\n    };\n\n    // Retornar respuesta exitosa\n    return NextResponse.json(resp, {\n      status: 200,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n      },\n    });\n  } catch (error) {\n    console.error('Error en petici\xf3n POST:', error);\n    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\n  }\n}\n")),(0,r.kt)("h3",{id:"5-implementar-el-algoritmo-personalizado"},"5. Implementar el Algoritmo Personalizado"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Algoritmo Personalizado para Timestamp"',title:'"Algoritmo',Personalizado:!0,para:!0,'Timestamp"':!0},"// Algoritmo personalizado para calcular timestamp optimizado basado en el contenido del mensaje\nfunction calculateOptimizedTimestamp(message: string): number {\n  // Obtener el timestamp actual como punto de partida\n  const currentTimestamp = Math.floor(Date.now() / 1000);\n\n  // Algoritmo personalizado: Agregar c\xf3digos de caracteres para crear un offset \xfanico\n  // Esta es tu l\xf3gica de negocio \xfanica - puedes hacer esto tan complejo como necesites\n  let offset = 0;\n\n  for (let i = 0; i < message.length; i++) {\n    // Sumar c\xf3digos de caracteres y usar posici\xf3n como multiplicador\n    offset += message.charCodeAt(i) * (i + 1);\n  }\n\n  // Asegurar que el offset sea razonable (m\xe1ximo 1 hora)\n  const maxOffset = 3600;\n  offset = offset % maxOffset;\n\n  // Calcular timestamp optimizado final\n  return currentTimestamp + offset;\n}\n")),(0,r.kt)("h2",{id:"-manejo-de-cors"},"\ud83c\udf10 Manejo de CORS"),(0,r.kt)("p",null,"Para permitir que tu mini app sea usada desde diferentes dominios y plataformas, necesitas manejar peticiones preflight de CORS:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Handler CORS OPTIONS"',title:'"Handler',CORS:!0,'OPTIONS"':!0},"export async function OPTIONS(request: NextRequest) {\n  return new NextResponse(null, {\n    status: 204, // Sin Contenido\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Access-Control-Allow-Headers':\n        'Content-Type, Authorization, X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Date, X-Api-Version',\n    },\n  });\n}\n")),(0,r.kt)(s.Z,{type:"info",title:"Por Qu\xe9 Se Necesita OPTIONS",mdxType:"Admonition"},"Cuando las plataformas intentan usar tu mini app desde un dominio diferente, los navegadores primero env\xedan una **petici\xf3n OPTIONS** para verificar si se permiten peticiones cross-origin. Este handler le dice al navegador que tu API acepta peticiones de cualquier dominio."),(0,r.kt)("h2",{id:"-probando-tu-mini-app"},"\ud83e\uddea Probando tu Mini App"),(0,r.kt)("h3",{id:"opci\xf3n-1-app-sherry-social"},"Opci\xf3n 1: App Sherry Social"),(0,r.kt)("div",{style:{padding:"1rem",backgroundColor:"var(--ifm-color-info-contrast-background)",borderLeft:"4px solid var(--ifm-color-info)",borderRadius:"4px",margin:"1rem 0"}},(0,r.kt)("strong",null,"Pruebas en Producci\xf3n"),(0,r.kt)("ol",null,(0,r.kt)("li",null,"Ve a"," ",(0,r.kt)("a",{href:"https://app.sherry.social/home",target:"_blank"},"https://app.sherry.social/home")),(0,r.kt)("li",null,"En el campo de direcci\xf3n, ingresa la URL de tu endpoint GET"),(0,r.kt)("li",null,"Ejemplo: ",(0,r.kt)("code",null,"http://localhost:3000/api/mi-app")," (para desarrollo local)"),(0,r.kt)("li",null,"La plataforma renderizar\xe1 autom\xe1ticamente tu mini app"))),(0,r.kt)("h3",{id:"opci\xf3n-2-debugger-de-sherry-recomendado-para-desarrollo"},"Opci\xf3n 2: Debugger de Sherry (Recomendado para Desarrollo)"),(0,r.kt)(s.Z,{type:"tip",title:"Beneficios del Debugger",mdxType:"Admonition"},"El debugger est\xe1 espec\xedficamente dise\xf1ado para **probar y debuggear** mini apps durante el desarrollo con m\xfaltiples m\xe9todos de entrada."),(0,r.kt)(s.Z,{type:"warning",title:"Importante: Despliega Primero en Producci\xf3n",mdxType:"Admonition"},"Para probar tu mini app en el debugger, **primero debes desplegarla** en un proveedor de hosting como Vercel, Netlify, Railway, etc. El debugger necesita una **URL p\xfablica accesible** para poder cargar tu mini app. Si quieres probar localmente, usa el m\xe9todo **JSON** copiando la respuesta de tu endpoint GET local y peg\xe1ndola en el debugger."),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"url",label:"Prueba URL (Recomendado)",default:!0,mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Despliega tu mini app")," en un proveedor de hosting:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Vercel: ",(0,r.kt)("inlineCode",{parentName:"li"},"vercel --prod")),(0,r.kt)("li",{parentName:"ul"},"Netlify: Conecta tu repositorio"),(0,r.kt)("li",{parentName:"ul"},"Railway, Render, etc."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Prueba URL"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Pega la URL de tu endpoint GET desplegado"),(0,r.kt)("li",{parentName:"ul"},"Ejemplo: ",(0,r.kt)("inlineCode",{parentName:"li"},"https://mi-sherry-app.vercel.app/api/mi-app")),(0,r.kt)("li",{parentName:"ul"},'Haz clic en "Cargar" para renderizar tu mini app'))))),(0,r.kt)(i.Z,{value:"json",label:"Prueba JSON (Para Testing Local)",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Ve a ",(0,r.kt)("a",{parentName:"li",href:"https://app.sherry.social/debugger"},"https://app.sherry.social/debugger")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Para testing local \xfanicamente"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Visita tu endpoint GET directamente: ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:3000/api/mi-app")),(0,r.kt)("li",{parentName:"ul"},"Copia toda la respuesta JSON"),(0,r.kt)("li",{parentName:"ul"},"P\xe9gala en la entrada JSON del debugger"),(0,r.kt)("li",{parentName:"ul"},"Esto es \xfatil para probar metadata durante desarrollo"))))),(0,r.kt)(i.Z,{value:"typescript",label:"Prueba TypeScript",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Copia tu objeto metadata de tu c\xf3digo TypeScript"),(0,r.kt)("li",{parentName:"ol"},"P\xe9galo directamente en el debugger"),(0,r.kt)("li",{parentName:"ol"},"Bueno para iteraci\xf3n r\xe1pida en la estructura de metadata")))),(0,r.kt)("h3",{id:"proceso-de-pruebas-paso-a-paso"},"Proceso de Pruebas Paso a Paso"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Desarrollar Localmente")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Ejecutar ",(0,r.kt)("inlineCode",{parentName:"li"},"npm run dev")),(0,r.kt)("li",{parentName:"ul"},"Probar en ",(0,r.kt)("inlineCode",{parentName:"li"},"localhost:3000/api/mi-app")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Desplegar en Producci\xf3n")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Usar Vercel, Netlify, etc."),(0,r.kt)("li",{parentName:"ul"},"Obtener URL p\xfablica"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Probar en Debugger")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Usar URL p\xfablica del despliegue"),(0,r.kt)("li",{parentName:"ul"},"Verificar renderizado completo"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Probar Funcionalidad")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Completar formulario y probar POST"),(0,r.kt)("li",{parentName:"ul"},"Verificar transacci\xf3n generada")))),(0,r.kt)("h2",{id:"-gu\xedas-del-minithon"},"\ud83c\udfc6 Gu\xedas del Minithon"),(0,r.kt)("h3",{id:"qu\xe9-hace-una-presentaci\xf3n-ganadora-del-minithon"},"Qu\xe9 Hace una Presentaci\xf3n Ganadora del Minithon"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"technical",label:"Requisitos T\xe9cnicos",default:!0,mdxType:"TabItem"},(0,r.kt)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 my-8"},(0,r.kt)("div",{className:"p-4 border border-solid border-[var(--ifm-color-emphasis-300)] rounded-lg"},(0,r.kt)("h4",null,"\ud83c\udfa8 Colecciones NFT"),(0,r.kt)("p",null,"Permite a los usuarios acu\xf1ar NFTs directamente desde publicaciones")),(0,r.kt)("div",{className:"p-4 border border-solid border-[var(--ifm-color-emphasis-300)] rounded-lg"},(0,r.kt)("h4",null,"\ud83d\udd04 Intercambios de Tokens"),(0,r.kt)("p",null,"Habilita el trading DeFi sin salir de las redes sociales")),(0,r.kt)("div",{className:"p-4 border border-solid border-[var(--ifm-color-emphasis-300)] rounded-lg"},(0,r.kt)("h4",null,"\ud83d\uddf3\ufe0f Gobernanza DAO"),(0,r.kt)("p",null,"Integra votaciones directamente en discusiones comunitarias")),(0,r.kt)("div",{className:"p-4 border border-solid border-[var(--ifm-color-emphasis-300)] rounded-lg"},(0,r.kt)("h4",null,"\ud83d\udc9d Donaciones"),(0,r.kt)("p",null,"Acepta donaciones en crypto con montos y destinatarios personalizados")))),(0,r.kt)(i.Z,{value:"creativity",label:"Factores de Creatividad",mdxType:"TabItem"},(0,r.kt)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"},(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h3",{className:"font-semibold mb-2"},"\ud83d\udcda Documentaci\xf3n"),(0,r.kt)("p",{className:"text-sm text-gray-600"},"Referencia completa de API y gu\xedas")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h3",{className:"font-semibold mb-2"},"\ud83d\udcac Comunidad"),(0,r.kt)("p",{className:"text-sm text-gray-600"},(0,r.kt)("a",{href:"https://discord.com/invite/sherry",className:"text-blue-600 hover:underline"},"\xdanete a nuestro Discord"))),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h3",{className:"font-semibold mb-2"},"\ud83d\udc1b Problemas"),(0,r.kt)("p",{className:"text-sm text-gray-600"},(0,r.kt)("a",{href:"https://github.com/orgs/SherryLabs/repositories",className:"text-blue-600 hover:underline"},"Reportar en GitHub"))),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h3",{className:"font-semibold mb-2"},"\ud83d\udcd6 Ejemplos"),(0,r.kt)("p",{className:"text-sm text-gray-600"},"Ejemplos funcionales y demos completos")))),(0,r.kt)(i.Z,{value:"examples",label:"Buenas Ideas",mdxType:"TabItem"},(0,r.kt)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"},(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83c\udfa8 Colecciones NFT"),(0,r.kt)("p",null,"Permite a los usuarios acu\xf1ar NFTs directamente desde publicaciones")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83d\udd04 Intercambios de Tokens"),(0,r.kt)("p",null,"Habilita el trading DeFi sin salir de las redes sociales")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83d\uddf3\ufe0f Gobernanza DAO"),(0,r.kt)("p",null,"Integra votaciones directamente en discusiones comunitarias")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83d\udc9d Donaciones"),(0,r.kt)("p",null,"Acepta donaciones en crypto con montos y destinatarios personalizados"))))),(0,r.kt)("h3",{id:"qu\xe9-no-ser\xe1-aceptado-en-el-minithon"},"Qu\xe9 No Ser\xe1 Aceptado en el Minithon"),(0,r.kt)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"},(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83c\udfa8 Colecciones NFT"),(0,r.kt)("p",null,"Permite a los usuarios acu\xf1ar NFTs directamente desde publicaciones")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83d\udd04 Intercambios de Tokens"),(0,r.kt)("p",null,"Habilita el trading DeFi sin salir de las redes sociales")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83d\uddf3\ufe0f Gobernanza DAO"),(0,r.kt)("p",null,"Integra votaciones directamente en discusiones comunitarias")),(0,r.kt)("div",{className:"border rounded-lg p-4"},(0,r.kt)("h4",null,"\ud83d\udc9d Donaciones"),(0,r.kt)("p",null,"Acepta donaciones en crypto con montos y destinatarios personalizados"))),(0,r.kt)("h2",{id:"-resoluci\xf3n-de-problemas"},"\ud83d\udd27 Resoluci\xf3n de Problemas"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"get-errors",label:"Problemas del Endpoint GET",default:!0,mdxType:"TabItem"},(0,r.kt)("h3",{id:"error-fall\xf3-la-validaci\xf3n-de-metadata"},'Error: "Fall\xf3 la validaci\xf3n de metadata"'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S\xedntomas"),": La mini app no carga en el debugger"),(0,r.kt)(s.Z,{type:"danger",title:"Soluciones",mdxType:"Admonition"},"- Verifica que todos los campos requeridos est\xe9n presentes en la metadata - Confirma que los tipos de datos coincidan con el formato esperado - Usa `createMetadata()` para validar la estructura - Revisa la consola para errores espec\xedficos de validaci\xf3n"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Debug de Metadata"',title:'"Debug',de:!0,'Metadata"':!0},"try {\n  const validated = createMetadata(metadata);\n  console.log('Validaci\xf3n de metadata exitosa:', validated);\n} catch (error) {\n  console.error('Fall\xf3 la validaci\xf3n de metadata:', error);\n}\n")),(0,r.kt)("h3",{id:"error-la-pol\xedtica-cors-bloquea-la-petici\xf3n"},'Error: "La pol\xedtica CORS bloquea la petici\xf3n"'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S\xedntomas"),': "El acceso a fetch ha sido bloqueado por la pol\xedtica CORS"'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Headers CORS Correctos"',title:'"Headers',CORS:!0,'Correctos"':!0},'headers: {\n  "Access-Control-Allow-Origin": "*",\n  "Access-Control-Allow-Methods": "GET, POST, PUT, DELETE, OPTIONS",\n  "Access-Control-Allow-Headers": "Content-Type, Authorization",\n}\n'))),(0,r.kt)(i.Z,{value:"post-errors",label:"Problemas del Endpoint POST",mdxType:"TabItem"},(0,r.kt)("h3",{id:"error-par\xe1metro-requerido"},'Error: "Par\xe1metro requerido"'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S\xedntomas"),": Error sobre par\xe1metros faltantes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Debug de Par\xe1metros"',title:'"Debug',de:!0,'Par\xe1metros"':!0},"console.log('Todos los par\xe1metros:', Object.fromEntries(searchParams.entries()));\nconsole.log('Par\xe1metro mensaje:', searchParams.get('mensaje'));\n")),(0,r.kt)("h3",{id:"error-fall\xf3-la-serializaci\xf3n-de-transacci\xf3n"},'Error: "Fall\xf3 la serializaci\xf3n de transacci\xf3n"'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S\xedntomas"),": Error durante la llamada serialize()"),(0,r.kt)(s.Z,{type:"caution",title:"Correcciones Comunes",mdxType:"Admonition"},"- Usa `BigInt(1000000)` no `1000000` para n\xfameros grandes - Verifica que chainId sea correcto para la red objetivo - Aseg\xfarate de que todos los campos requeridos de transacci\xf3n est\xe9n presentes - Para llamadas a contratos, verifica que el ABI coincida con el contrato desplegado")),(0,r.kt)(i.Z,{value:"contract-errors",label:"Problemas de Contratos Inteligentes",mdxType:"TabItem"},(0,r.kt)("h3",{id:"error-funci\xf3n-abi-no-encontrada"},'Error: "Funci\xf3n ABI no encontrada"'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S\xedntomas"),": Error sobre funci\xf3n faltante o incorrecta"),(0,r.kt)(s.Z,{type:"info",title:"Pasos de Verificaci\xf3n",mdxType:"Admonition"},"- Verifica que el nombre de la funci\xf3n coincida exactamente con el contrato (sensible a may\xfasculas) - Confirma que la funci\xf3n sea p\xfablica en el contrato inteligente - Aseg\xfarate de que el ABI est\xe9 completo e incluya la funci\xf3n - Verifica que los tipos de par\xe1metros coincidan con la firma de la funci\xf3n del contrato"),(0,r.kt)("h3",{id:"error-direcci\xf3n-de-contrato-inv\xe1lida"},'Error: "Direcci\xf3n de contrato inv\xe1lida"'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"S\xedntomas"),": La transacci\xf3n falla con errores relacionados a la direcci\xf3n"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Verifica que el contrato est\xe9 desplegado en la red correcta (Fuji testnet)"),(0,r.kt)("li",{parentName:"ul"},"Confirma que la direcci\xf3n est\xe9 correctamente formateada (comienza con 0x)"),(0,r.kt)("li",{parentName:"ul"},"Aseg\xfarate de tener la direcci\xf3n correcta del contrato para tu red"),(0,r.kt)("li",{parentName:"ul"},"Verifica que el contrato est\xe9 verificado en el explorador de blockchain")))),(0,r.kt)("h2",{id:"-ejemplo-de-c\xf3digo-completo"},"\ud83d\ude80 Ejemplo de C\xf3digo Completo"),(0,r.kt)("p",null,"Aqu\xed tienes un archivo de ruta completo, ",(0,r.kt)("strong",{parentName:"p"},"listo para minithon")," que demuestra todos los conceptos:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="app/api/mi-app/route.ts - Ejemplo Completo"',title:'"app/api/mi-app/route.ts',"-":!0,Ejemplo:!0,'Completo"':!0},"import { NextRequest, NextResponse } from 'next/server';\nimport { avalancheFuji } from 'viem/chains';\nimport { createMetadata, Metadata, ValidatedMetadata, ExecutionResponse } from '@sherrylinks/sdk';\nimport { serialize, TransactionSerializable, encodeFunctionData } from 'wagmi';\nimport { abi } from '@/blockchain/abi';\n\nconst CONTRACT_ADDRESS = '0xTuContratoInteligenteEnFuji';\n\nexport async function GET(req: NextRequest) {\n  try {\n    const host = req.headers.get('host') || 'localhost:3000';\n    const protocol = req.headers.get('x-forwarded-proto') || 'http';\n    const serverUrl = `${protocol}://${host}`;\n\n    const metadata: Metadata = {\n      url: 'https://sherry.social',\n      icon: 'https://avatars.githubusercontent.com/u/117962315',\n      title: 'Mensaje con Timestamp',\n      baseUrl: serverUrl,\n      description:\n        'Almacena un mensaje con un timestamp optimizado calculado por nuestro algoritmo',\n      actions: [\n        {\n          type: 'dynamic',\n          label: 'Almacenar Mensaje',\n          description:\n            'Almacena tu mensaje con un timestamp personalizado calculado para almacenamiento \xf3ptimo',\n          chains: { source: 'fuji' },\n          path: `/api/mi-app`,\n          params: [\n            {\n              name: 'mensaje',\n              label: '\xa1Tu Mensaje Hermano!',\n              type: 'text',\n              required: true,\n              description: 'Ingresa el mensaje que quieres almacenar en la blockchain',\n            },\n          ],\n        },\n      ],\n    };\n\n    const validated: ValidatedMetadata = createMetadata(metadata);\n\n    return NextResponse.json(validated, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      },\n    });\n  } catch (error) {\n    return NextResponse.json({ error: 'Error al crear metadata' }, { status: 500 });\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const message = searchParams.get('mensaje');\n\n    if (!message) {\n      return NextResponse.json(\n        { error: 'Message parameter is required' },\n        {\n          status: 400,\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n            'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n          },\n        },\n      );\n    }\n\n    // L\xf3gica de negocio personalizada\n    const optimizedTimestamp = calculateOptimizedTimestamp(message);\n\n    // Interacci\xf3n con contrato inteligente\n    const data = encodeFunctionData({\n      abi: abi,\n      functionName: 'storeMessage',\n      args: [message, BigInt(optimizedTimestamp)],\n    });\n\n    const tx: TransactionSerializable = {\n      to: CONTRACT_ADDRESS,\n      data: data,\n      chainId: avalancheFuji.id,\n      type: 'legacy',\n    };\n\n    const serialized = serialize(tx);\n\n    const resp: ExecutionResponse = {\n      serializedTransaction: serialized,\n      chainId: avalancheFuji.name,\n    };\n\n    return NextResponse.json(resp, {\n      status: 200,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n      },\n    });\n  } catch (error) {\n    console.error('Error en petici\xf3n POST:', error);\n    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });\n  }\n}\n\nexport async function OPTIONS(request: NextRequest) {\n  return new NextResponse(null, {\n    status: 204,\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Access-Control-Allow-Headers':\n        'Content-Type, Authorization, X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Date, X-Api-Version',\n    },\n  });\n}\n\n// Algoritmo personalizado - aqu\xed es donde agregas tu valor \xfanico\nfunction calculateOptimizedTimestamp(message: string): number {\n  const currentTimestamp = Math.floor(Date.now() / 1000);\n\n  let offset = 0;\n\n  for (let i = 0; i < message.length; i++) {\n    offset += message.charCodeAt(i) * (i + 1);\n  }\n\n  const maxOffset = 3600;\n  offset = offset % maxOffset;\n\n  return currentTimestamp + offset;\n}\n")),(0,r.kt)("h2",{id:"-repositorio-de-ejemplos"},"\ud83d\udcda Repositorio de Ejemplos"),(0,r.kt)(s.Z,{type:"info",title:"Ejemplos Completos Disponibles",mdxType:"Admonition"},"Puedes encontrar ejemplos completos de trabajo en nuestro repositorio: [SherryLabs/sherry-example](https://github.com/SherryLabs/sherry-example)"),(0,r.kt)("p",null,"Este repositorio contiene:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tanto ejemplos de transferencia simple como de contrato inteligente"),(0,r.kt)("li",{parentName:"ul"},"C\xf3digo completo de contrato inteligente con fuente Solidity"),(0,r.kt)("li",{parentName:"ul"},"Scripts de despliegue y configuraci\xf3n"),(0,r.kt)("li",{parentName:"ul"},"Archivos ABI e instrucciones de configuraci\xf3n"),(0,r.kt)("li",{parentName:"ul"},"Ejemplos de m\xfaltiples par\xe1metros"),(0,r.kt)("li",{parentName:"ul"},"Utilidades avanzadas de prueba"),(0,r.kt)("li",{parentName:"ul"},"Documentaci\xf3n completa")),(0,r.kt)("h2",{id:"-pr\xf3ximos-pasos"},"\ud83c\udfaf Pr\xf3ximos Pasos"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"learning",label:"Para Aprender",default:!0,mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Comienza con el ejemplo de transferencia simple")," para entender el flujo"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Pasa al ejemplo de contrato inteligente")," una vez que te sientas c\xf3modo"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Experimenta con diferentes")," tipos de par\xe1metros y validaciones"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Prueba minuciosamente")," usando el debugger"))),(0,r.kt)(i.Z,{value:"minithon",label:"Para Participantes del Minithon",mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Omite la transferencia simple")," - ve directamente a la interacci\xf3n con contratos inteligentes"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Dise\xf1a tu algoritmo \xfanico")," - \xbfqu\xe9 problema vas a resolver?"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Planifica tu contrato inteligente")," - \xbfqu\xe9 funciones y datos necesitas?"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Crea m\xfaltiples par\xe1metros")," - hazlo sofisticado y \xfatil"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Prueba extensivamente")," - aseg\xfarate de que todo funcione perfectamente"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Documenta tu innovaci\xf3n")," - explica por qu\xe9 tu soluci\xf3n es \xfanica"))),(0,r.kt)(i.Z,{value:"deployment",label:"Consideraciones de Despliegue",mdxType:"TabItem"},(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Desarrollo Local"),": Usa ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")," para pruebas"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Producci\xf3n"),": Despliega en Vercel, Netlify, o tu plataforma preferida"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Dominios Personalizados"),": Actualiza las URLs de tu metadata para coincidir con tu dominio"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Variables de Entorno"),": Almacena datos sensibles como claves privadas de forma segura"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Redes de Prueba"),": Comienza con Fuji testnet, luego pasa a mainnet")))),(0,r.kt)("hr",null),(0,r.kt)("div",{className:"text-center p-8 bg-[var(--ifm-color-primary-contrast-background)] rounded-lg my-8"},(0,r.kt)("h2",null,"\ud83d\ude80 \xbfListo para Construir Algo Incre\xedble?"),(0,r.kt)("p",null,"Recuerda, la clave para una presentaci\xf3n exitosa en el minithon no es solo hacer que funcione, sino hacerlo"," ",(0,r.kt)("strong",null,"\xfatil"),", ",(0,r.kt)("strong",null,"innovador"),", y"," ",(0,r.kt)("strong",null,"t\xe9cnicamente impresionante"),". Enf\xf3cate en resolver problemas reales con soluciones creativas que demuestren el poder de la tecnolog\xeda blockchain combinada con una gran experiencia de usuario."),(0,r.kt)("p",null,(0,r.kt)("strong",null,"\xa1Buena suerte con el desarrollo de tu mini app y tu presentaci\xf3n en el minithon! \ud83c\udfc6"))))}g.isMDXComponent=!0}}]);